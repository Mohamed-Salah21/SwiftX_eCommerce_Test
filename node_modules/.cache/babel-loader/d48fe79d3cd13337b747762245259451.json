{"ast":null,"code":"import _objectSpread from\"D:/web applications programming/apps/react.js/SwiftX/app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"D:/web applications programming/apps/react.js/SwiftX/app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"D:/web applications programming/apps/react.js/SwiftX/app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{Routes,Route,BrowserRouter}from\"react-router-dom\";import ProductsListPage from\"./pages/PLP/ProductsListPage\";import ProductDetailsPage from\"./pages/PDP/ProductDetailsPage\";import CartPage from\"./pages/CART/CartPage\";import ContextHook from\"./components/ContextHook\";import Navbar from\"./components/navbar/Navbar\";import{useToggle}from\"./components/customHooks\";import ScrollToTop from\"./ScrollToTop\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState(\"all\"),_useState2=_slicedToArray(_useState,2),categorySelected=_useState2[0],setCategorySelected=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),currencyIndex=_useState4[0],setCurrencyIndex=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),products=_useState6[0],setProducts=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),productDetails=_useState8[0],setProductDetails=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),cartItems=_useState10[0],setCartItems=_useState10[1];var _useState11=useState(\"$\"),_useState12=_slicedToArray(_useState11,2),totalSymbol=_useState12[0],setTotalSymbol=_useState12[1];var _useToggle=useToggle(false),_useToggle2=_slicedToArray(_useToggle,2),listIsActive=_useToggle2[0],setListIsActive=_useToggle2[1];var _useToggle3=useToggle(false),_useToggle4=_slicedToArray(_useToggle3,2),bagIsActive=_useToggle4[0],setBagIsActive=_useToggle4[1];var chooseCurrency=function chooseCurrency(index,symbol){setListIsActive();setCurrencyIndex(index);setTotalSymbol(symbol);};var addToCart=function addToCart(query,indexSelected){var productInCart=cartItems.find(function(_ref){var id=_ref.id;return!query.loading&&id===query.product.id?true:false;});!productInCart&&setCartItems(function(cart){return[].concat(_toConsumableArray(cart),[_objectSpread(_objectSpread({},query.product),{},{quantity:1,idx:indexSelected})]);});};var incrementQty=function incrementQty(product){setCartItems(function(cart){return cart.map(function(item){return item.id===product.id&&product.quantity<10?_objectSpread(_objectSpread({},product),{},{quantity:product.quantity+1}):item;});});};var decrementQty=function decrementQty(product){setCartItems(function(cart){return cart.map(function(item){return item.id===product.id&&product.quantity>1?_objectSpread(_objectSpread({},product),{},{quantity:product.quantity-1}):item;});});};var removeFromCart=function removeFromCart(product){setCartItems(function(cart){return cart.filter(function(_ref2){var id=_ref2.id;return id!==product.id;});});};var moveForward=function moveForward(product){product.idx!==product.gallery.length-1&&setCartItems(function(cart){return cart.map(function(item){return item.id===product.id?_objectSpread(_objectSpread({},product),{},{idx:product.idx+1}):item;});});};var moveBack=function moveBack(product){product.idx!==0&&setCartItems(function(cart){return cart.map(function(item){return item.id===product.id?_objectSpread(_objectSpread({},product),{},{idx:product.idx-1}):item;});});};var totalPrice=cartItems.reduce(function(price,item){return price+item.quantity*item.prices[currencyIndex].amount;},0);var checkOut=function checkOut(){if(totalPrice>0){alert(\"Purchased successfully\");window.location.href=\"/\";}};useEffect(function(){window.onkeydown=function(e){if(e.code===\"Escape\"){listIsActive&&setListIsActive();bagIsActive&&setBagIsActive();}};});return/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsx(ContextHook.Provider,{value:{categorySelected:categorySelected,setCategorySelected:setCategorySelected,products:products,setProducts:setProducts,productDetails:productDetails,setProductDetails:setProductDetails,currencyIndex:currencyIndex,setCurrencyIndex:setCurrencyIndex,totalSymbol:totalSymbol,setTotalSymbol:setTotalSymbol,cartItems:cartItems,setCartItems:setCartItems,addToCart:addToCart,removeFromCart:removeFromCart,incrementQty:incrementQty,decrementQty:decrementQty,checkOut:checkOut,moveForward:moveForward,moveBack:moveBack,chooseCurrency:chooseCurrency,totalPrice:totalPrice,listIsActive:listIsActive,setListIsActive:setListIsActive,bagIsActive:bagIsActive,setBagIsActive:setBagIsActive},children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,element:/*#__PURE__*/_jsx(ProductsListPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/:id/details\",element:/*#__PURE__*/_jsx(ProductDetailsPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/cart\",element:/*#__PURE__*/_jsx(CartPage,{})})]}),/*#__PURE__*/_jsx(ScrollToTop,{})]})})});};export default App;","map":{"version":3,"names":["React","useEffect","useState","Routes","Route","BrowserRouter","ProductsListPage","ProductDetailsPage","CartPage","ContextHook","Navbar","useToggle","ScrollToTop","App","categorySelected","setCategorySelected","currencyIndex","setCurrencyIndex","products","setProducts","productDetails","setProductDetails","cartItems","setCartItems","totalSymbol","setTotalSymbol","listIsActive","setListIsActive","bagIsActive","setBagIsActive","chooseCurrency","index","symbol","addToCart","query","indexSelected","productInCart","find","id","loading","product","cart","quantity","idx","incrementQty","map","item","decrementQty","removeFromCart","filter","moveForward","gallery","length","moveBack","totalPrice","reduce","price","prices","amount","checkOut","alert","window","location","href","onkeydown","e","code"],"sources":["D:/web applications programming/apps/react.js/SwiftX/app/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Routes, Route, BrowserRouter } from \"react-router-dom\";\nimport ProductsListPage from \"./pages/PLP/ProductsListPage\";\nimport ProductDetailsPage from \"./pages/PDP/ProductDetailsPage\";\nimport CartPage from \"./pages/CART/CartPage\";\nimport ContextHook from \"./components/ContextHook\";\nimport Navbar from \"./components/navbar/Navbar\";\nimport { useToggle } from \"./components/customHooks\";\nimport ScrollToTop from \"./ScrollToTop\";\nconst App = () => {\n  const [categorySelected, setCategorySelected] = useState(\"all\");\n  const [currencyIndex, setCurrencyIndex] = useState(0);\n  const [products, setProducts] = useState([]);\n  const [productDetails, setProductDetails] = useState({});\n  const [cartItems, setCartItems] = useState([]);\n  const [totalSymbol, setTotalSymbol] = useState(\"$\");\n  const [listIsActive, setListIsActive] = useToggle(false);\n  const [bagIsActive, setBagIsActive] = useToggle(false);\n  const chooseCurrency = (index, symbol) => {\n    setListIsActive();\n    setCurrencyIndex(index);\n    setTotalSymbol(symbol);\n  };\n  const addToCart = (query, indexSelected) => {\n    const productInCart = cartItems.find(({ id }) =>\n      !query.loading && id === query.product.id ? true : false\n    );\n    !productInCart &&\n      setCartItems((cart) => [\n        ...cart,\n        {\n          ...query.product,\n          quantity: 1,\n          idx: indexSelected,\n        },\n      ]);\n  };\n  const incrementQty = (product) => {\n    setCartItems((cart) =>\n      cart.map((item) =>\n        item.id === product.id && product.quantity < 10\n          ? { ...product, quantity: product.quantity + 1 }\n          : item\n      )\n    );\n  };\n  const decrementQty = (product) => {\n    setCartItems((cart) =>\n      cart.map((item) =>\n        item.id === product.id && product.quantity > 1\n          ? { ...product, quantity: product.quantity - 1 }\n          : item\n      )\n    );\n  };\n  const removeFromCart = (product) => {\n    setCartItems((cart) => cart.filter(({ id }) => id !== product.id));\n  };\n  const moveForward = (product) => {\n    product.idx !== product.gallery.length - 1 &&\n      setCartItems((cart) =>\n        cart.map((item) =>\n          item.id === product.id ? { ...product, idx: product.idx + 1 } : item\n        )\n      );\n  };\n  const moveBack = (product) => {\n    product.idx !== 0 &&\n      setCartItems((cart) =>\n        cart.map((item) =>\n          item.id === product.id ? { ...product, idx: product.idx - 1 } : item\n        )\n      );\n  };\n  const totalPrice = cartItems.reduce(\n    (price, item) => price + item.quantity * item.prices[currencyIndex].amount,\n    0\n  );\n  const checkOut = () => {\n    if (totalPrice > 0) {\n      alert(\"Purchased successfully\");\n      window.location.href = \"/\";\n    }\n  };\n  useEffect(() => {\n    window.onkeydown = (e) => {\n      if (e.code === \"Escape\") {\n        listIsActive && setListIsActive();\n        bagIsActive && setBagIsActive();\n      }\n    };\n  });\n  return (\n    <BrowserRouter>\n      <ContextHook.Provider\n        value={{\n          categorySelected,\n          setCategorySelected,\n          products,\n          setProducts,\n          productDetails,\n          setProductDetails,\n          currencyIndex,\n          setCurrencyIndex,\n          totalSymbol,\n          setTotalSymbol,\n          cartItems,\n          setCartItems,\n          addToCart,\n          removeFromCart,\n          incrementQty,\n          decrementQty,\n          checkOut,\n          moveForward,\n          moveBack,\n          chooseCurrency,\n          totalPrice,\n          listIsActive,\n          setListIsActive,\n          bagIsActive,\n          setBagIsActive,\n        }}\n      >\n        <div className=\"App\">\n          <Navbar />\n          <Routes>\n            <Route path=\"/\" exact element={<ProductsListPage />} />\n            <Route path=\"/:id/details\" element={<ProductDetailsPage />} />\n            <Route path=\"/cart\" element={<CartPage />} />\n          </Routes>\n          <ScrollToTop />\n        </div>\n      </ContextHook.Provider>\n    </BrowserRouter>\n  );\n};\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}