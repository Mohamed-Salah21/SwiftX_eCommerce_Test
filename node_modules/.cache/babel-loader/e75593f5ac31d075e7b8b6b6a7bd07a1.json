{"ast":null,"code":"import _slicedToArray from\"D:/web applications programming/apps/react.js/SwiftX/app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./productDetails.scss\";import React,{useState,useContext}from\"react\";import{useParams}from\"react-router-dom\";import{useQuery}from\"@apollo/client\";import{productQuery}from\"../../qraphQL/queries\";import ContextHook from\"../../components/ContextHook\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductDetailsPage=function ProductDetailsPage(){var _useParams=useParams(),id=_useParams.id;var _useQuery=useQuery(productQuery,{variables:{id:id}}),loading=_useQuery.loading,data=_useQuery.data;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),imgIndex=_useState2[0],setImgIndex=_useState2[1];var _useContext=useContext(ContextHook),currencyIndex=_useContext.currencyIndex,cartItems=_useContext.cartItems,addToCart=_useContext.addToCart,removeFromCart=_useContext.removeFromCart;var productInCart=!loading&&cartItems.find(function(_ref){var id=_ref.id;return id===data.product.id?true:false;});return/*#__PURE__*/_jsxs(\"div\",{className:\"productDetailsPage\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"imagesChanger\",children:!loading&&data.product.gallery.map(function(src,idx){return/*#__PURE__*/_jsx(\"img\",{src:src,className:\"\".concat(imgIndex===idx&&\"showing\"),alt:src,onClick:function onClick(){return setImgIndex(idx);}},src);})}),/*#__PURE__*/_jsx(\"div\",{className:\"image-wall\",children:/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(!loading&&data.product.gallery[imgIndex]),alt:\"background wall\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"aboutProduct\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"productCategory\",children:!loading&&data.product.category}),/*#__PURE__*/_jsx(\"h2\",{className:\"productName\",children:!loading&&data.product.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"price\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"price:\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:!loading&&data.product.prices[currencyIndex].currency.symbol}),!loading&&data.product.prices[currencyIndex].amount]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return!productInCart?addToCart(data,imgIndex):removeFromCart(data.product);},children:!productInCart?\"add to cart\":\"removing\"}),/*#__PURE__*/_jsx(\"div\",{className:\"description\",dangerouslySetInnerHTML:{__html:!loading&&data.product.description}})]})]});};export default ProductDetailsPage;","map":{"version":3,"names":["React","useState","useContext","useParams","useQuery","productQuery","ContextHook","ProductDetailsPage","id","variables","loading","data","imgIndex","setImgIndex","currencyIndex","cartItems","addToCart","removeFromCart","productInCart","find","product","gallery","map","src","idx","category","name","prices","currency","symbol","amount","__html","description"],"sources":["D:/web applications programming/apps/react.js/SwiftX/app/src/pages/PDP/ProductDetailsPage.js"],"sourcesContent":["import \"./productDetails.scss\";\r\nimport React, { useState, useContext } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport { productQuery } from \"../../qraphQL/queries\";\r\nimport ContextHook from \"../../components/ContextHook\";\r\nconst ProductDetailsPage = () => {\r\n  const { id } = useParams();\r\n  const { loading, data } = useQuery(productQuery, { variables: { id: id } });\r\n  const [imgIndex, setImgIndex] = useState(0);\r\n  const { currencyIndex, cartItems, addToCart, removeFromCart } =\r\n    useContext(ContextHook);\r\n  const productInCart =\r\n    !loading &&\r\n    cartItems.find(({ id }) => (id === data.product.id ? true : false));\r\n  return (\r\n    <div className=\"productDetailsPage\">\r\n      <div className=\"imagesChanger\">\r\n        {!loading &&\r\n          data.product.gallery.map((src, idx) => (\r\n            <img\r\n              key={src}\r\n              src={src}\r\n              className={`${imgIndex === idx && \"showing\"}`}\r\n              alt={src}\r\n              onClick={() => setImgIndex(idx)}\r\n            />\r\n          ))}\r\n      </div>\r\n      <div className=\"image-wall\">\r\n        <img\r\n          src={`${!loading && data.product.gallery[imgIndex]}`}\r\n          alt=\"background wall\"\r\n        />\r\n      </div>\r\n      <div className=\"aboutProduct\">\r\n        <h3 className=\"productCategory\">{!loading && data.product.category}</h3>\r\n        <h2 className=\"productName\">{!loading && data.product.name}</h2>\r\n        <div className=\"price\">\r\n          <h4>price:</h4>\r\n          <p>\r\n            <span>\r\n              {!loading && data.product.prices[currencyIndex].currency.symbol}\r\n            </span>\r\n            {!loading && data.product.prices[currencyIndex].amount}\r\n          </p>\r\n        </div>\r\n        <button\r\n          onClick={() =>\r\n            !productInCart\r\n              ? addToCart(data, imgIndex)\r\n              : removeFromCart(data.product)\r\n          }\r\n        >\r\n          {!productInCart ? \"add to cart\" : \"removing\"}\r\n        </button>\r\n        <div\r\n          className=\"description\"\r\n          dangerouslySetInnerHTML={{\r\n            __html: !loading && data.product.description,\r\n          }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default ProductDetailsPage;\r\n"],"mappings":"8IAAA,MAAO,uBAAP,CACA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,KAA4C,OAA5C,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,OAASC,QAAT,KAAyB,gBAAzB,CACA,OAASC,YAAT,KAA6B,uBAA7B,CACA,MAAOC,YAAP,KAAwB,8BAAxB,C,wFACA,GAAMC,mBAAkB,CAAG,QAArBA,mBAAqB,EAAM,CAC/B,eAAeJ,SAAS,EAAxB,CAAQK,EAAR,YAAQA,EAAR,CACA,cAA0BJ,QAAQ,CAACC,YAAD,CAAe,CAAEI,SAAS,CAAE,CAAED,EAAE,CAAEA,EAAN,CAAb,CAAf,CAAlC,CAAQE,OAAR,WAAQA,OAAR,CAAiBC,IAAjB,WAAiBA,IAAjB,CACA,cAAgCV,QAAQ,CAAC,CAAD,CAAxC,wCAAOW,QAAP,eAAiBC,WAAjB,eACA,gBACEX,UAAU,CAACI,WAAD,CADZ,CAAQQ,aAAR,aAAQA,aAAR,CAAuBC,SAAvB,aAAuBA,SAAvB,CAAkCC,SAAlC,aAAkCA,SAAlC,CAA6CC,cAA7C,aAA6CA,cAA7C,CAEA,GAAMC,cAAa,CACjB,CAACR,OAAD,EACAK,SAAS,CAACI,IAAV,CAAe,kBAAGX,GAAH,MAAGA,EAAH,OAAaA,GAAE,GAAKG,IAAI,CAACS,OAAL,CAAaZ,EAApB,CAAyB,IAAzB,CAAgC,KAA7C,EAAf,CAFF,CAGA,mBACE,aAAK,SAAS,CAAC,oBAAf,wBACE,YAAK,SAAS,CAAC,eAAf,UACG,CAACE,OAAD,EACCC,IAAI,CAACS,OAAL,CAAaC,OAAb,CAAqBC,GAArB,CAAyB,SAACC,GAAD,CAAMC,GAAN,qBACvB,YAEE,GAAG,CAAED,GAFP,CAGE,SAAS,WAAKX,QAAQ,GAAKY,GAAb,EAAoB,SAAzB,CAHX,CAIE,GAAG,CAAED,GAJP,CAKE,OAAO,CAAE,yBAAMV,YAAW,CAACW,GAAD,CAAjB,EALX,EACOD,GADP,CADuB,EAAzB,CAFJ,EADF,cAaE,YAAK,SAAS,CAAC,YAAf,uBACE,YACE,GAAG,WAAK,CAACb,OAAD,EAAYC,IAAI,CAACS,OAAL,CAAaC,OAAb,CAAqBT,QAArB,CAAjB,CADL,CAEE,GAAG,CAAC,iBAFN,EADF,EAbF,cAmBE,aAAK,SAAS,CAAC,cAAf,wBACE,WAAI,SAAS,CAAC,iBAAd,UAAiC,CAACF,OAAD,EAAYC,IAAI,CAACS,OAAL,CAAaK,QAA1D,EADF,cAEE,WAAI,SAAS,CAAC,aAAd,UAA6B,CAACf,OAAD,EAAYC,IAAI,CAACS,OAAL,CAAaM,IAAtD,EAFF,cAGE,aAAK,SAAS,CAAC,OAAf,wBACE,8BADF,cAEE,kCACE,sBACG,CAAChB,OAAD,EAAYC,IAAI,CAACS,OAAL,CAAaO,MAAb,CAAoBb,aAApB,EAAmCc,QAAnC,CAA4CC,MAD3D,EADF,CAIG,CAACnB,OAAD,EAAYC,IAAI,CAACS,OAAL,CAAaO,MAAb,CAAoBb,aAApB,EAAmCgB,MAJlD,GAFF,GAHF,cAYE,eACE,OAAO,CAAE,yBACP,CAACZ,aAAD,CACIF,SAAS,CAACL,IAAD,CAAOC,QAAP,CADb,CAEIK,cAAc,CAACN,IAAI,CAACS,OAAN,CAHX,EADX,UAOG,CAACF,aAAD,CAAiB,aAAjB,CAAiC,UAPpC,EAZF,cAqBE,YACE,SAAS,CAAC,aADZ,CAEE,uBAAuB,CAAE,CACvBa,MAAM,CAAE,CAACrB,OAAD,EAAYC,IAAI,CAACS,OAAL,CAAaY,WADV,CAF3B,EArBF,GAnBF,GADF,CAkDD,CA3DD,CA4DA,cAAezB,mBAAf"},"metadata":{},"sourceType":"module"}